{"version":3,"file":"type-utils.min.js","sources":["../src/utils/datatype/type-manip.js","../src/utils/datatype/type-datetime.js","../src/utils/datatype/type-object.js","../src/utils/datatype/type-string.js","../src/utils/datatype/type-iterable.js","../src/utils/datatype/type-array.js"],"sourcesContent":["/**\r\n * Returns an object value or default value if undefined\r\n * @param {*} arg object\r\n * @param {*} value default value\r\n * @param {boolean} isNullable indicates whether the value can be assigned the value *NULL*\r\n * @memberof TYPE\r\n */\r\nexport function valOrDefault(arg, value, isNullable) {\r\n    if (isNullable === true) {\r\n        return isUndefined(arg) ? value : arg;\r\n    }\r\n    \r\n    return isNullOrUndefined(arg) ? value : arg;\r\n}\r\n\r\n/**\r\n * Converts the received boolean value to an integer\r\n * @param {boolean} value \r\n * @returns {number} 1 or 0\r\n * @memberof TYPE\r\n */\r\nexport function boolToInt(value) { return value ? 1 : 0; }\r\n\r\n/**\r\n * Converts the received value to a boolean\r\n * @param {*} value\r\n * @returns {boolean} A boolean equivalent of the received value\r\n * @memberof TYPE\r\n */\r\nexport function toBoolean(value) {\r\n    var val = valOrDefault(value, false);\r\n\r\n    return val === true || val.toString().toLowerCase() === 'true';\r\n}\r\n\r\n/**\r\n * Determines whether the value is an *integer*\r\n * @param {*} value Tested value\r\n * @returns {boolean}  A value indicating whether or not the given value is an *integer*.\r\n * @memberof TYPE\r\n */\r\nexport function isInt(value) { \r\n    return Number.isInteger ? Number.isInteger(value) : typeof value === 'number' && value % 1 === 0; \r\n}\r\n\r\n/**\r\n * Returns a value indicating whether the value is empty\r\n * @param {Object[]|string} arr array\r\n * @memberof TYPE\r\n */\r\nexport function isEmpty(val) { return (Array.isArray(val) || isString(val)) && val.length === 0; }\r\n\r\n/**\r\n * Returns a value indicating whether the variable is a Date\r\n * @param {*} value \r\n * @memberof TYPE\r\n */\r\nexport function isDate(value) {\r\n    return value instanceof Date || (typeof value === 'object' && Object.prototype.toString.call(value) === '[object Date]');\r\n}\r\n\r\n/**\r\n * Returns a value indicating whether the variable is a String\r\n * @returns {boolean}\r\n * @memberof TYPE\r\n */\r\nexport function isString(str) { return typeof str === 'string' || str instanceof String; }\r\n\r\n/**\r\n * Returns a value indicating whether the value is a Function\r\n * @returns {boolean}\r\n * @memberof TYPE\r\n */\r\nexport function isFunction(value) { return typeof value === 'function'; }\r\n\r\n/**\r\n * Returns a value indicating whether the value is an Object\r\n * @returns {boolean}\r\n * @memberof TYPE\r\n */\r\nexport function isObject(value) { return !isNull(value) && typeof value === 'object'; }\r\n\r\n/**\r\n * Returns a value indicating whether the value is null\r\n * @returns {boolean}\r\n * @memberof TYPE\r\n */\r\nexport function isNull(value) { return value === null; }\r\n\r\n/**\r\n * Returns a value indicating whether the value is undefined\r\n * @returns {boolean}\r\n * @memberof TYPE\r\n */\r\nexport function isUndefined(value) { return typeof value === 'undefined'; }\r\n\r\n/**\r\n * Returns a value indicating whether the value is null or undefined\r\n * @returns {boolean}\r\n * @memberof TYPE\r\n */\r\nexport function isNullOrUndefined(value) { return isNull(value) || isUndefined(value); }","import { isInt, valOrDefault } from './type-manip.js';\r\n\r\n/**\r\n * Returns a value indicating the day of the week with monday = 0\r\n * @param {Date} date \r\n * @memberof TYPE\r\n */\r\nexport function dayOfWeek(date) {\r\n    var d = date.getDay();\r\n    return d == 0 ? 6 : d - 1;\r\n}\r\n\r\n// Compare 2 times and returns\r\n//  1 if t1 > t2\r\n//  0 if t1 = t2\r\n// -1 if t1 < t2\r\nexport function compareTime(t1, t2) {\r\n    var arr1 = t1.split(':');\r\n    var arr2 = t2.split(':');\r\n\r\n    // hour comparison\r\n    if (+arr1[0] > +arr2[0])\r\n        return 1;\r\n    else if (+arr1[0] < +arr2[0])\r\n        return -1;\r\n    else {\r\n        // minute comparison\r\n        if (+arr1[1] > +arr2[1])\r\n            return 1;\r\n        else if (+arr1[1] < +arr2[1])\r\n            return -1;\r\n        else {\r\n            if (arr1.length == arr2.length && arr1.length == 3) {\r\n                // second comparison\r\n                if (+arr1[2] > +arr2[2])\r\n                    return 1;\r\n                else if (+arr1[2] < +arr2[2])\r\n                    return -1;\r\n            }\r\n\r\n            return 0;\r\n        }\r\n    }\r\n}\r\n\r\nexport function parseTime(n) {\r\n    var hh = +n | 0;\r\n    var mm = '00';\r\n    if (!isInt(+n))\r\n        mm = (n + '').split('.')[1] * 6;\r\n    return hh + ':' + mm;\r\n}\r\n\r\n// Returns a date using the format \"YYYY-mm-dd\"\r\nexport function shortDate(myDate) {\r\n    var d = new Date(myDate);\r\n    var dd = d.getDate();\r\n    var mm = d.getMonth() + 1; // January = 0\r\n    var yyyy = d.getFullYear();\r\n\r\n    if (dd < 10) dd = '0' + dd;\r\n    if (mm < 10) mm = '0' + mm;\r\n    d = yyyy + '-' + mm + '-' + dd;\r\n\r\n    return d;\r\n}\r\n\r\n// Returns a date and time using the format \"YYYY-mm-dd hh:MM\"\r\nexport function longDate(myDate) {\r\n    var d = new Date(myDate);\r\n    var hh = d.getHours();\r\n    var MM = d.getMinutes();\r\n\r\n    if (MM < 10) MM = '0' + MM;\r\n    d = shortDate(d) + ' ' + hh + ':' + MM;\r\n\r\n    return d;\r\n}\r\n\r\n// Convertie une date de string (YYYY-MM-DD) en format Date\r\nexport function parseDate(strDate) {\r\n    var arrDate = strDate.split('-');\r\n    return new Date(arrDate[0], arrDate[1] - 1, arrDate[2], 0, 0, 0, 0);\r\n}\r\n\r\n// Convertie une date de string (YYYY-MM-DD hh:mm) en format Date\r\nexport function parseDateTime(strDate) {\r\n    var arrDateTime = strDate.split(' ');\r\n    var arrTime = arrDateTime[1].split(':');\r\n    var d = parseDate(arrDateTime[0]).setHours(+arrTime[0], +arrTime[1]);\r\n    return new Date(d);\r\n}\r\n\r\nconst DICT = {\r\n    'en': {\r\n        'second': 'second(s)',\r\n        'minute': 'minute(s)',\r\n        'hour': 'hour(s)',\r\n        'day': 'day(s)',\r\n        'week': 'week(s)',\r\n        'month': 'month(s)',\r\n        'year': 'year(s)',\r\n    },\r\n    'fr': {\r\n        'second': 'seconde(s)',\r\n        'minute': 'minute(s)',\r\n        'hour': 'heure(s)',\r\n        'day': 'jour(s)',\r\n        'week': 'semaine(s)',\r\n        'month': 'mois',\r\n        'year': 'annÃ©e(s)',\r\n    },\r\n};\r\n\r\nconst trans = function translation(lang, key, isPlural) {\r\n    var value = DICT[lang][key];\r\n\r\n    if (value === undefined) {\r\n        return undefined;\r\n    }\r\n\r\n    if (isPlural) {\r\n        return value.replace(/\\(([a-z]+)\\)/g, '$1');\r\n    }\r\n\r\n    return value.replace(/\\([a-z]+\\)/g, '');\r\n};\r\n\r\nconst timeAgoResponse = function timeAgoResponseBuilder(time, unit, _lang) {\r\n    var lang = valOrDefault(_lang, 'en');\r\n    var isPlural = time === 1;\r\n    var msg = {\r\n        en: `${time} ${trans('en', unit, isPlural)} ago`,\r\n        fr: `il y a ${time} ${trans('fr', unit, isPlural)}`,\r\n    };\r\n\r\n    return msg[lang];\r\n};\r\n\r\nexport function timeAgo(time, callback) {\r\n    callback = valOrDefault(callback, timeAgoResponse);\r\n    const seconds = Math.floor((Date.now() - (new Date(time)).getTime()) / 1000);\r\n    const MINUTE = 60;\r\n    const HOUR = MINUTE * 60;\r\n    const DAY = HOUR * 24;\r\n    const WEEK = DAY * 7;\r\n    const MONTH = DAY * 30;\r\n    const YEAR = WEEK * 52;\r\n\r\n    if (seconds < MINUTE) {\r\n        return callback(seconds, 'second');\r\n    } else if (seconds < HOUR) {\r\n        return callback(~~(seconds / MINUTE), 'minute');\r\n    } else if (seconds < DAY) {\r\n        return callback(~~(seconds / HOUR), 'hour');\r\n    } else if (seconds < WEEK) {\r\n        return callback(~~(seconds / DAY), 'day');\r\n    } else if (seconds < MONTH) {\r\n        return callback(~~(seconds / WEEK), 'week');\r\n    } else if (seconds < YEAR) {\r\n        return callback(~~(seconds / MONTH), 'month');\r\n    } else {\r\n        return callback(~~(seconds / YEAR), 'year');\r\n    }\r\n}","/** @private */\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\n/** @private */\r\nconst isPrototypeOf = Object.prototype.isPrototypeOf;\r\n\r\nexport const defProp = Object.defineProperty;\r\n\r\n/**\r\n * Returns a boolean indicating whether the object has the specified property as its own property (not inherited).\r\n * @param {*} obj target object\r\n * @param {string} key name of the property\r\n * @memberof TYPE\r\n */\r\nexport const hasOwn = function (obj, key) { return hasOwnProperty.call(obj, key); };\r\n\r\n/**\r\n * Returns a boolean indicating whether the object (child) inherit from another (parent)\r\n * @param {*} child \r\n * @param {*} parent \r\n * @memberof TYPE\r\n */\r\nexport const isDerivedOf = function (child, parent) {\r\n    return Object.getPrototypeOf(child) !== parent && isPrototypeOf.call(parent, child);\r\n};\r\n\r\n/**\r\n * \r\n * @param {*} obj \r\n * @memberof TYPE\r\n */\r\nexport function cloneObject(obj) {\r\n    if (obj === null || typeof (obj) !== 'object') {\r\n        return obj;\r\n    }\r\n\r\n    var temp = obj.constructor(); // changed\r\n    for (var key in obj) {\r\n        if (hasOwn(obj, key)) {\r\n            obj['isActiveClone'] = null;\r\n            temp[key] = cloneObject(obj[key]);\r\n            delete obj['isActiveClone'];\r\n        }\r\n    }\r\n\r\n    return temp;\r\n}","import { isString } from \"./type-manip.js\";\r\n\r\n/**\r\n * Returns a value indicating whether a string is null or made of whitespace.\r\n * @param {string} str string\r\n * @memberof TYPE\r\n */\r\nexport function isNullOrWhitespace(str) {\r\n    return (!str || isString(str) && (str.length === 0 || /^\\s*$/.test(str)));\r\n}\r\n\r\n/**\r\n * Capitalizes all words in a sequence\r\n * @param {string} str Sequence\r\n * @returns {string} Capitalized sequence\r\n * @memberof TYPE\r\n */\r\nexport function capitalize(str) {\r\n    return str.replace(/\\b\\w/g, function (s) { return s.toUpperCase(); });\r\n}\r\n\r\n/**\r\n * Capitalizes the first letter of a sequence\r\n * @param {string} str Sequence\r\n * @returns {string} Sequence with its first letter capitalized\r\n * @memberof TYPE\r\n */\r\nexport function capitalizeFirstLetter(str) {\r\n    return isNullOrWhitespace(str) ? str : str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * Removes all accents from a string\r\n * @param {*} str string\r\n * @returns {string}\r\n * @memberof TYPE\r\n */\r\nexport function removeAccents(str) {\r\n    if (String.prototype.normalize) {\r\n        return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\");\r\n    }\r\n    \r\n    return str.replace(/[Ã Ã¢Ã¤Ã¦]/gi, 'a')\r\n        .replace(/[Ã§]/gi, 'c')\r\n        .replace(/[Ã©Ã¨Ãª]/gi, 'e')\r\n        .replace(/[Ã®Ã¯]/gi, 'i')\r\n        .replace(/[Ã´Å]/gi, 'o')\r\n        .replace(/[Ã¹Ã»Ã¼]/gi, 'u');\r\n}","/**\r\n * Returns the index or value of the first element in the object\r\n * @param {Object|Array} obj \r\n * @param {any} value \r\n * @memberof TYPE\r\n */\r\nexport function find(obj, value) {\r\n    if (Array.isArray(obj)) {\r\n        let index = obj.indexOf(value);\r\n        if (index !== -1) return index;\r\n    } else {\r\n        for (const e of Object.keys(obj)) {\r\n            if (obj[e] === value || obj[e].val === value) {\r\n                return e;\r\n            }\r\n        }\r\n    }\r\n\r\n    return undefined;\r\n}","/**\r\n * Inserts an item in an array at the specified index\r\n * @param {Object[]} arr array\r\n * @param {number} index \r\n * @param {object} item \r\n * @returns {number} The new length of the array\r\n * @memberof TYPE\r\n */\r\nexport function insert(arr, index, item) { \r\n    arr.splice(index, 0, item); \r\n\r\n    return arr.length;\r\n}\r\n\r\n/**\r\n * Returns last element of array.\r\n * @param {Object[]} arr array\r\n * @memberof TYPE\r\n */\r\nexport function last(arr) {\r\n    if (Array.isArray(arr) && arr.length - 1) {\r\n        return arr[arr.length - 1];\r\n    }\r\n\r\n    return undefined;\r\n}"],"names":["valOrDefault","arg","value","isNullable","isUndefined","isNullOrUndefined","isInt","Number","isInteger","isString","str","String","isNull","shortDate","myDate","d","Date","dd","getDate","mm","getMonth","getFullYear","parseDate","strDate","arrDate","split","DICT","trans","lang","key","isPlural","undefined","replace","timeAgoResponse","time","unit","_lang","en","fr","hasOwnProperty","Object","prototype","isPrototypeOf","defProp","defineProperty","hasOwn","obj","call","isNullOrWhitespace","length","test","s","toUpperCase","charAt","slice","cloneObject","_typeof","temp","constructor","t1","t2","arr1","arr2","date","getDay","Array","isArray","index","indexOf","keys","e","val","arr","item","splice","toString","child","parent","getPrototypeOf","hh","getHours","MM","getMinutes","arrDateTime","arrTime","setHours","n","normalize","callback","seconds","Math","floor","now","getTime","DAY","HOUR","WEEK","MINUTE","toLowerCase"],"mappings":"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"}